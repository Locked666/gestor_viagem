{% extends "layouts/base.html" %} {% block title %}Home{% endblock title %} {%
block content %}

<!-- Main content -->
<div class="container-fluid py-2">
  <!--Row  card travel-->
  <div class="row">
    <div class="ms-3">
      <h3 class="mb-0 h4 font-weight-bolder">Dashboard</h3>
      <p class="mb-4">Controle de Viagens - {{ competence }}</p>
    </div>
    <!--Card 1 Total de diárias do mês-->
    <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
      <div class="card">
        <div class="card-header p-2 ps-3">
          <div class="d-flex justify-content-between">
            <div>
              <p class="text-sm mb-0 text-capitalize">
                Total de Diárias do mês
              </p>
              <h4 class="mb-0" id="value-daily">0</h4>
            </div>
            <div
              class="icon icon-md icon-shape bg-gradient-dark shadow-dark shadow text-center border-radius-lg"
            >
              <i class="material-symbols-rounded opacity-10">payments</i>
            </div>
          </div>
        </div>
        <hr class="dark horizontal my-0" />
        <div class="card-footer p-2 ps-3">
          <p class="mb-0 text-sm">
            <span class="text-success font-weight-bolder">+55% </span>
            Comparação Mês Anterior
          </p>
        </div>
      </div>
    </div>
    <!--Card 2 Total de viagens do mês-->
    <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
      <div class="card">
        <div class="card-header p-2 ps-3">
          <div class="d-flex justify-content-between">
            <div>
              <p class="text-sm mb-0 text-capitalize">
                Total de Viagens do Mês
              </p>
              <h4 class="mb-0">2300</h4>
            </div>
            <div
              class="icon icon-md icon-shape bg-gradient-dark shadow-dark shadow text-center border-radius-lg"
            >
              <i class="material-symbols-rounded opacity-10">road</i>
            </div>
          </div>
        </div>
        <hr class="dark horizontal my-0" />
        <div class="card-footer p-2 ps-3">
          <p class="mb-0 text-sm">
            <span class="text-success font-weight-bolder">+3% </span>than last
            month
          </p>
        </div>
      </div>
    </div>
  </div>

  <!--Row Grafic travels-->
  <div class="row">
    <div class="col-lg-4 col-md-6 mt-4 mb-4">
      <div class="card">
        <div class="card-body">
          <h6 class="mb-0">Diárias Mensais</h6>
          <!--<p class="text-sm">
            (<span class="font-weight-bolder" id="">+15%</span>) increase in today
            sales.
          </p>-->
          <div class="pe-2">
            <div class="chart">
              <canvas
                id="chart-line"
                class="chart-canvas"
                height="170"
              ></canvas>
            </div>
          </div>
          <hr class="dark horizontal" />
          <div class="d-flex">
            <i class="material-symbols-rounded text-sm my-auto me-1"
              >schedule</i
            >
            <p class="mb-0 text-sm">updated 4 min ago</p>
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-4 mt-4 mb-3">
      <div class="card">
        <div class="card-body">
          <h6 class="mb-0">Completed Tasks</h6>
          <p class="text-sm">Last Campaign Performance</p>
          <div class="pe-2">
            <div class="chart">
              <canvas
                id="chart-line-tasks"
                class="chart-canvas"
                height="170"
              ></canvas>
            </div>
          </div>
          <hr class="dark horizontal" />
          <div class="d-flex">
            <i class="material-symbols-rounded text-sm my-auto me-1"
              >schedule</i
            >
            <p class="mb-0 text-sm">just updated</p>
          </div>
        </div>
      </div>
    </div>
  </div>
  {% include "includes/footer.html" %}
</div>

{% endblock content %} {% block extra_js %}

<script src="{{ url_for('static', filename='assets/js/plugins/chartjs.min.js') }}"></script>

<script>
  var ctx2 = document.getElementById("chart-line").getContext("2d");

  new Chart(ctx2, {
    type: "line",
    data: {
      labels: ["J", "F", "M", "A", "M", "J", "J", "A", "S", "O", "N", "D"],
      datasets: [
        {
          label: "Diarias",
          tension: 0,
          borderWidth: 2,
          pointRadius: 3,
          pointBackgroundColor: "#43A047",
          pointBorderColor: "transparent",
          borderColor: "#43A047",
          backgroundColor: "transparent",
          fill: true,
          data: [120, 230, 130, 440, 250, 360, 270, 180, 90, 300, 310, 220],
          maxBarThickness: 6,
        },
      ],
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: {
          display: false,
        },
        tooltip: {
          callbacks: {
            title: function (context) {
              const fullMonths = [
                "Janeiro",
                "Fevereiro",
                "Março",
                "Abril",
                "Maio",
                "Junho",
                "Julho",
                "Agosto",
                "Setemnbro",
                "Outubro",
                "Novembro",
                "Dezembro",
              ];
              return fullMonths[context[0].dataIndex];
            },
          },
        },
      },
      interaction: {
        intersect: false,
        mode: "index",
      },
      scales: {
        y: {
          grid: {
            drawBorder: false,
            display: true,
            drawOnChartArea: true,
            drawTicks: false,
            borderDash: [4, 4],
            color: "#e5e5e5",
          },
          ticks: {
            display: true,
            color: "#737373",
            padding: 10,
            font: {
              size: 12,
              lineHeight: 2,
            },
          },
        },
        x: {
          grid: {
            drawBorder: false,
            display: false,
            drawOnChartArea: false,
            drawTicks: false,
            borderDash: [5, 5],
          },
          ticks: {
            display: true,
            color: "#737373",
            padding: 10,
            font: {
              size: 12,
              lineHeight: 2,
            },
          },
        },
      },
    },
  });
</script>

{% endblock extra_js %}
